(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a90d12cc"],{2870:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{},[e("div",{staticClass:"container"},[e("el-tabs",{model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"播放内容统计",name:"play"}},[e("play-chart")],1),e("el-tab-pane",{attrs:{label:"设备告警统计",lazy:!0,name:"warn"}},[e("warn-chart")],1)],1)],1)])},s=[],h=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"table"},[e("div",{staticClass:"container"},[e("el-row",{staticClass:"handle-box",attrs:{gutter:10}},[e("el-col",{attrs:{md:4}},[e("el-select",{attrs:{filterable:"",placeholder:"选择机构"},model:{value:t.orgValue,callback:function(i){t.orgValue=i},expression:"orgValue"}},t._l(t.orgOptions,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),e("el-col",{attrs:{md:4}},[e("el-select",{attrs:{filterable:"",placeholder:"选择分组"},model:{value:t.groupValue,callback:function(i){t.groupValue=i},expression:"groupValue"}},t._l(t.groupOptions,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),e("el-col",{attrs:{md:8}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.dateValue,callback:function(i){t.dateValue=i},expression:"dateValue"}})],1),e("el-col",{attrs:{md:8}},[e("el-input",{staticClass:" mr10",attrs:{placeholder:"输入机构名字\\分组名字"},model:{value:t.select_word,callback:function(i){t.select_word=i},expression:"select_word"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1)],1)],1),e("schart",{style:t.height,attrs:{canvasId:"bar",data:t.data1,type:"bar",options:t.options1}})],1)])},l=[],o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("canvas",{attrs:{id:t.canvasId}})])},n=[],d=e("8c93"),r=e.n(d),c={data:function(){return{schart:null,opt:{}}},props:{canvasId:{type:String,default:""},type:{type:String,default:"bar"},data:{type:Array,default:[]},options:{type:Object,required:!1}},mounted:function(){this.renderChart()},methods:{renderChart:function(){this.schart=null,this.opt=this.options,this.width&&this.height||(this.opt?this.opt["autoWidth"]=!0:this.opt={autoWidth:!0}),this.schart=new r.a(this.canvasId,this.type,this.data,this.opt)}},watch:{data:function(){this.renderChart()},options:function(){this.renderChart()},type:function(){this.renderChart()}}},u=c,g=e("2877"),p=Object(g["a"])(u,o,n,!1,null,null,null),f=p.exports,x={name:"play-chart",components:{Schart:f},data:function(){return{url:"./alarm-record.json",tableData:[],select_cate:"",select_word:"",is_search:!1,form:{name:"",date:"",address:""},idx:-1,orgValue:"",orgOptions:[{value:"选项1",label:"巴波嘎依"},{value:"选项2",label:"八道湾"},{value:"选项3",label:"布拉特"}],groupOptions:[{value:"选项1",label:"分组一"},{value:"选项2",label:"分组二"},{value:"选项3",label:"分组三"}],groupValue:"",dateValue:"",data1:[{name:"节目一",value:5},{name:"节目二",value:6},{name:"节目三",value:19},{name:"节目四",value:20},{name:"节目五",value:50},{name:"节目六",value:9},{name:"节目七",value:1},{name:"节目八",value:201}],options1:{title:"节目统计",autoWidth:!1,showValue:!0,bgColor:"#fff",fillColor:"#00887C",contentColor:"rgba(46,199,201,0.3)",yEqual:7},height:{height:""}}},created:function(){this.computedChartHeight()},computed:{data:function(){return this.tableData}},methods:{computedChartHeight:function(){this.height.height=window.innerHeight-225+"px"},handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this;this.$axios.get(this.url,{page:this.cur_page}).then(function(i){console.log(),t.tableData=i.data.list})},search:function(){this.is_search=!0},handleSelectionChange:function(t){this.multipleSelection=t}}},v=x,m=(e("7d3b"),Object(g["a"])(v,h,l,!1,null,"7a3dc29f",null)),b=m.exports,w=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"table"},[e("div",{staticClass:"container"},[e("el-row",{staticClass:"handle-box",attrs:{gutter:10}},[e("el-col",{attrs:{md:4}},[e("el-select",{attrs:{filterable:"",placeholder:"选择机构"},model:{value:t.orgValue,callback:function(i){t.orgValue=i},expression:"orgValue"}},t._l(t.orgOptions,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),e("el-col",{attrs:{md:4}},[e("el-select",{attrs:{filterable:"",placeholder:"选择分组"},model:{value:t.groupValue,callback:function(i){t.groupValue=i},expression:"groupValue"}},t._l(t.groupOptions,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),e("el-col",{attrs:{md:8}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.dateValue,callback:function(i){t.dateValue=i},expression:"dateValue"}})],1),e("el-col",{attrs:{md:8}},[e("el-input",{staticClass:" mr10",attrs:{placeholder:"输入机构名字\\分组名字"},model:{value:t.select_word,callback:function(i){t.select_word=i},expression:"select_word"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1)],1)],1),e("schart",{style:t.height,attrs:{canvasId:"bar1",data:t.data2,type:"bar",options:t.options2}})],1)])},P=[],y={name:"warn-chart",components:{Schart:f},data:function(){return{url:"./alarm-record.json",tableData:[],select_cate:"",select_word:"",del_list:[],is_search:!1,editVisible:!1,delVisible:!1,form:{name:"",date:"",address:""},idx:-1,warningData:[],warningUrl:"./device-monitoring-warn.json",orgValue:"",orgOptions:[{value:"选项1",label:"巴波嘎依"},{value:"选项2",label:"八道湾"},{value:"选项3",label:"布拉特"}],groupOptions:[{value:"选项1",label:"分组一"},{value:"选项2",label:"分组二"},{value:"选项3",label:"分组三"}],groupValue:"",dateValue:"",data2:[{name:"连接",value:5},{name:"电量",value:6},{name:"电压",value:19},{name:"防拆",value:20},{name:"防移",value:3}],options2:{title:"告警统计",autoWidth:!1,showValue:!0,bgColor:"#fff",fillColor:"#00887C",contentColor:"rgba(46,199,201,0.3)",yEqual:9},height:{height:""}}},created:function(){this.computedChartHeight()},computed:{data:function(){return this.tableData}},methods:{computedChartHeight:function(){this.height.height=window.innerHeight-225+"px"},handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this;this.$axios.get(this.url,{page:this.cur_page}).then(function(i){console.log(),t.tableData=i.data.list})},search:function(){this.is_search=!0},handleSelectionChange:function(t){this.multipleSelection=t}}},C=y,T=(e("527d"),Object(g["a"])(C,w,P,!1,null,"52129aa9",null)),V=T.exports,k={name:"tabs",data:function(){return{activeName:"play"}},components:{playChart:b,warnChart:V},methods:{},computed:{}},_=k,L=Object(g["a"])(_,a,s,!1,null,null,null);i["default"]=L.exports},"527d":function(t,i,e){"use strict";var a=e("6e4a"),s=e.n(a);s.a},"6e4a":function(t,i,e){},"7d3b":function(t,i,e){"use strict";var a=e("b7bf"),s=e.n(a);s.a},"8c93":function(t,i,e){var a;
/*!
 * sChart JavaScript Library v2.0.1
 * http://blog.gdfengshuo.com/example/sChart/ | Released under the MIT license
 * Date: 2018-04-16T18:59Z
 */
/*!
 * sChart JavaScript Library v2.0.1
 * http://blog.gdfengshuo.com/example/sChart/ | Released under the MIT license
 * Date: 2018-04-16T18:59Z
 */
(function(s,h){a=function(){return h(s)}.call(i,e,i,t),void 0===a||(t.exports=a)})(this,function(t){"use strict";function i(t,i,e,a){this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.dpi=window.devicePixelRatio||1,this.type=i,this.data=e,this.dataLength=this.data.length,this.showValue=!0,this.autoWidth=!1,this.width=this.canvas.width*this.dpi,this.height=this.canvas.height*this.dpi,this.topPadding=50*this.dpi,this.leftPadding=50*this.dpi,this.rightPadding=0*this.dpi,this.bottomPadding=50*this.dpi,this.yEqual=5,this.yLength=0,this.xLength=0,this.yFictitious=0,this.yRatio=0,this.bgColor="#ffffff",this.fillColor="#1E9FFF",this.axisColor="#666666",this.contentColor="#eeeeee",this.titleColor="#000000",this.title="",this.titlePosition="top",this.radius=100*this.dpi,this.innerRadius=70*this.dpi,this.colorList=["#1E9FFF","#13CE66","#F7BA2A","#FF4949","#72f6ff","#199475","#e08031","#726dd1"],this.legendColor="#000000",this.legendTop=40*this.dpi,this.totalValue=this.getTotalValue(),this.init(a)}return i.prototype={init:function(t){if(0===this.dataLength)return!1;if(t){var i=["topPadding","leftPadding","rightPadding","bottomPadding","radius","innerRadius","legendTop"];for(var e in t)"colorList"===e&&Array.isArray(t[e])?this[e]=t[e].concat(this[e]):i.indexOf(e)>-1?this[e]=t[e]*this.dpi:this[e]=t[e]}t.autoWidth?(this.width=this.canvas.width=this.canvas.parentNode.offsetWidth*this.dpi,this.height=this.canvas.height=this.canvas.parentNode.offsetHeight*this.dpi,this.canvas.setAttribute("style","width:"+this.canvas.parentNode.offsetWidth+"px;height:"+this.canvas.parentNode.offsetHeight+"px;")):(this.canvas.setAttribute("style","width:"+this.canvas.width+"px;height:"+this.canvas.height+"px;"),this.canvas.width*=this.dpi,this.canvas.height*=this.dpi),"bar"===this.type||"line"===this.type?(this.yLength=Math.floor((this.height-this.topPadding-this.bottomPadding-10)/this.yEqual),this.xLength=Math.floor((this.width-this.leftPadding-this.rightPadding-10)/this.dataLength),this.yFictitious=this.getYFictitious(this.data),this.yRatio=this.yLength/this.yFictitious,this.drawBarUpdate()):this.drawPieUpdate()},drawBarUpdate:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.width,this.height),this.drawAxis(),this.drawPoint(),this.drawTitle(),this.drawBarChart()},drawPieUpdate:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.width,this.height),this.drawLegend(),this.drawTitle(),this.drawPieChart()},drawBarChart:function(){this.ctx.fillStyle=this.fillColor,this.ctx.strokeStyle=this.fillColor;for(var t=0;t<this.dataLength;t++)this.data[t].left=this.leftPadding+this.xLength*(t+.25),this.data[t].top=this.height-this.bottomPadding-this.data[t].value*this.yRatio,this.data[t].right=this.leftPadding+this.xLength*(t+.75),this.data[t].bottom=this.height-this.bottomPadding,"line"===this.type?(this.ctx.beginPath(),this.ctx.arc(this.data[t].left+this.xLength/4,this.data[t].top,2,0,2*Math.PI,!0),this.ctx.fill(),0!==t&&(this.ctx.moveTo(this.data[t].left+this.xLength/4,this.data[t].top),this.ctx.lineTo(this.data[t-1].left+this.xLength/4,this.data[t-1].top)),this.ctx.stroke()):"bar"===this.type&&this.ctx.fillRect(this.data[t].left,this.data[t].top,this.data[t].right-this.data[t].left,this.data[t].bottom-this.data[t].top),this.showValue&&(this.ctx.font=12*this.dpi+"px Arial",this.ctx.fillText(this.data[t].value,this.data[t].left+this.xLength/4,this.data[t].top-5))},drawPieChart:function(){for(var t=this.width/2,i=this.height/2,e=0,a=0,s=0;s<this.dataLength;s++)this.ctx.beginPath(),this.ctx.fillStyle=this.colorList[s],this.ctx.moveTo(t,i),this.data[s].start=0===s?-Math.PI/2:this.data[s-1].end,this.data[s].end=this.data[s].start+this.data[s].value/this.totalValue*2*Math.PI,this.ctx.arc(t,i,this.radius,this.data[s].start,this.data[s].end),this.ctx.closePath(),this.ctx.fill(),this.data[s].middle=(this.data[s].start+this.data[s].end)/2,e=Math.ceil(Math.abs(this.radius*Math.cos(this.data[s].middle))),a=Math.floor(Math.abs(this.radius*Math.sin(this.data[s].middle))),this.ctx.strokeStyle=this.colorList[s],this.showValue&&(this.data[s].middle<=0?(this.ctx.textAlign="left",this.ctx.moveTo(t+e,i-a),this.ctx.lineTo(t+e+10,i-a-10),this.ctx.moveTo(t+e+10,i-a-10),this.ctx.lineTo(t+e+this.radius/2,i-a-10),this.ctx.stroke(),this.ctx.fillText(this.data[s].value,t+e+5+this.radius/2,i-a-5)):this.data[s].middle>0&&this.data[s].middle<=Math.PI/2?(this.ctx.textAlign="left",this.ctx.moveTo(t+e,i+a),this.ctx.lineTo(t+e+10,i+a+10),this.ctx.moveTo(t+e+10,i+a+10),this.ctx.lineTo(t+e+this.radius/2,i+a+10),this.ctx.stroke(),this.ctx.fillText(this.data[s].value,t+e+5+this.radius/2,i+a+15)):this.data[s].middle>Math.PI/2&&this.data[s].middle<Math.PI?(this.ctx.textAlign="right",this.ctx.moveTo(t-e,i+a),this.ctx.lineTo(t-e-10,i+a+10),this.ctx.moveTo(t-e-10,i+a+10),this.ctx.lineTo(t-e-this.radius/2,i+a+10),this.ctx.stroke(),this.ctx.fillText(this.data[s].value,t-e-5-this.radius/2,i+a+15)):(this.ctx.textAlign="right",this.ctx.moveTo(t-e,i-a),this.ctx.lineTo(t-e-10,i-a-10),this.ctx.moveTo(t-e-10,i-a-10),this.ctx.lineTo(t-e-this.radius/2,i-a-10),this.ctx.stroke(),this.ctx.fillText(this.data[s].value,t-e-5-this.radius/2,i-a-5)));"ring"===this.type&&(this.ctx.beginPath(),this.ctx.fillStyle=this.bgColor,this.ctx.arc(t,i,this.innerRadius,0,2*Math.PI),this.ctx.fill())},drawAxis:function(){this.ctx.beginPath(),this.ctx.strokeStyle=this.axisColor,this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding+.5),this.ctx.lineTo(this.leftPadding+.5,this.topPadding+.5),this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding+.5),this.ctx.lineTo(this.width-this.rightPadding-.5,this.height-this.bottomPadding+.5),this.ctx.stroke()},drawPoint:function(){this.ctx.beginPath(),this.ctx.font=12*this.dpi+"px Microsoft YaHei",this.ctx.textAlign="center",this.ctx.fillStyle=this.axisColor;for(var t=0;t<this.dataLength;t++){var i=this.data[t].name,e=this.xLength*(t+1);this.ctx.moveTo(this.leftPadding+e+.5,this.height-this.bottomPadding+.5),this.ctx.lineTo(this.leftPadding+e+.5,this.height-this.bottomPadding+5.5),this.ctx.fillText(i,this.leftPadding+e-this.xLength/2,this.height-this.bottomPadding+15*this.dpi)}this.ctx.stroke(),this.ctx.beginPath(),this.ctx.font=12*this.dpi+"px Microsoft YaHei",this.ctx.textAlign="right",this.ctx.fillStyle=this.axisColor,this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding+.5),this.ctx.lineTo(this.leftPadding-4.5,this.height-this.bottomPadding+.5),this.ctx.fillText(0,this.leftPadding-10,this.height-this.bottomPadding+5);for(t=0;t<this.yEqual;t++){var a=this.yFictitious*(t+1),s=this.yLength*(t+1);this.ctx.beginPath(),this.ctx.strokeStyle=this.axisColor,this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding-s+.5),this.ctx.lineTo(this.leftPadding-4.5,this.height-this.bottomPadding-s+.5),this.ctx.stroke(),this.ctx.fillText(a,this.leftPadding-10,this.height-this.bottomPadding-s+5),this.ctx.beginPath(),this.ctx.strokeStyle=this.contentColor,this.ctx.moveTo(this.leftPadding+.5,this.height-this.bottomPadding-s+.5),this.ctx.lineTo(this.width-this.rightPadding-.5,this.height-this.bottomPadding-s+.5),this.ctx.stroke()}},drawTitle:function(){this.title&&(this.ctx.beginPath(),this.ctx.textAlign="center",this.ctx.fillStyle=this.titleColor,this.ctx.font=16*this.dpi+"px Microsoft YaHei","bottom"===this.titlePosition&&this.bottomPadding>=40?this.ctx.fillText(this.title,this.width/2,this.height-5):this.ctx.fillText(this.title,this.width/2,this.topPadding/2+5))},drawLegend:function(){for(var t=0;t<this.dataLength;t++)this.ctx.fillStyle=this.colorList[t],this.ctx.fillRect(10,this.legendTop+15*t*this.dpi,20,11),this.ctx.fillStyle=this.legendColor,this.ctx.font=12*this.dpi+"px Microsoft YaHei",this.ctx.textAlign="left",this.ctx.fillText(this.data[t].name,35,this.legendTop+10+15*t*this.dpi)},getYFictitious:function(t){var i=t.slice(0);i.sort(function(t,i){return-(t.value-i.value)});var e=Math.ceil(i[0].value/this.yEqual),a=e.toString().length-1;return a=a>2?2:a,Math.ceil(e/Math.pow(10,a))*Math.pow(10,a)},getTotalValue:function(){for(var t=0,i=0;i<this.dataLength;i++)t+=this.data[i].value;return t}},i})},b7bf:function(t,i,e){}}]);